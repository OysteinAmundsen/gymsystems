<div class="table-responsive">
  <table role="list">
    <thead>
      <tr>
        <th>#</th>
        <th translate class="visible-wide">Time</th>
        <th translate>Team</th>
        <th translate>Division</th>
        <th translate>Discipline</th>
        <th class="icons"></th>
      </tr>
    </thead>

    <tbody dragula="schedule-bag" [dragulaModel]="schedule" [dragulaOptions]="dragulaOptions">
      <tr *ngFor="let item of schedule" role="listitem" [title]="title(item)"
        [ngClass]="{'draggable': true, 'deleted': item.markDeleted, 'new': !item.id, 'day-split': isNewDay(item), unimportant: item.type === participationTypes.Training, 'isStarted': item.startTime}">
        <td *ngIf="item.type === participationTypes.Training">Tr</td>
        <td *ngIf="item.type === participationTypes.Live && editing != item.id" (click)="setEdit(item.id)">#{{ item.startNumber + 1 }}</td>
        <td *ngIf="item.type === participationTypes.Live && editing == item.id">
          <mat-form-field>
            <input matInput #startNo type="number" [value]="item.startNumber + 1" (blur)="editChanged(item, startNo.value)">
          </mat-form-field>
        </td>
        <td class="visible-wide" [innerHtml]="startTime(item)"></td>
        <td>{{ item.team.name }}</td>
        <td>{{ division(item.team) }}</td>
        <td><b *ngIf="item.team.class === classes.TeamGym">TG: </b>{{ item.discipline.name }}</td>
        <td class="icons"><button mat-icon-button type="button" class="warning" (click)="deleteParticipant(item)" *ngIf="!item.startTime"><i class="fa fa-fw fa-trash"></i></button>
      </tr>
    </tbody>
  </table>
</div>

<app-save-button buttonType="submit" (click)="saveSchedule()" [disabled]="!hasChanges()"></app-save-button>
<span *ngIf="haveMissing()">
  <button mat-raised-button type="button" (click)="calculateSchedule()" *ngIf="haveMissing()">
    <i class="fa fa-fw fa-calculator"></i>
    <span translate>Calculate schedule</span>
  </button>
  <label><input type="checkbox" [(ngModel)]="shouldCalculateTraining">{{'Include training' | translate }}</label>
</span>
<button mat-raised-button type="button" *ngIf="canDeleteAll()" [title]="'Delete' | translate" class="pull-right mat-warn" (click)="deleteAll()"><i class="fa fa-fw fa-trash"></i> <span translate>Delete</span></button>
