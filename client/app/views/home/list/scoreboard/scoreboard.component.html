<form class="panel" [formGroup]="scoreForm" (ngSubmit)="onSubmit(scoreForm.value, $event)">
  <div role="table">
    <div role="row">
      <app-score-group *ngFor="let group of groupedScores" [model]="group" [form]="scoreForm" class="x{{ group.scores ? group.scores.length : '0' }} group_{{ group.type }}"></app-score-group>

      <section>
        <header>Final score</header>
        <div *ngFor="let type of groupedScores" (click)="selectGroup(type)">
          <label class="large">{{ type.group.type }} : </label>
          <label class="small">{{ type.group.name }} <small>[{{ type.group.type }}]</small>: </label>
          <code>{{ type.avg || 0 | number:'1.2-2' }}&nbsp;</code>
        </div>
        <footer>
          <label class="large">F:</label>
          <label class="small">Final score:</label>
          <code>{{ grandTotal | number:'1.3-3' }}</code>
        </footer>
      </section>
    </div>
  </div>

  <footer>
    <button type="submit" title="Save"><app-fa name="save" fw="true"></app-fa> <span>Save score</span></button>
    <button type="button" title="Cancel" (click)="close()"><app-fa name="ban" fw="true"></app-fa> <span>Cancel</span></button>
  </footer>
</form>
