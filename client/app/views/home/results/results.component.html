<header *ngIf="tournament">
  <small>{{ tournament.startDate | date: 'dd.MM' }} - {{ tournament.endDate | date: 'dd.MM' }} {{ tournament.endDate | date: 'yyyy' }}</small>
  <h1 class="pull-left">{{ tournament.name }}</h1>
  <button type="button" class="pull-right primary raised" [routerLink]="['/list', tournament.id]">
    <app-fa name="list" fw="true"></app-fa>
    <span translate>List </span>
  </button>
  <button type="button" class="pull-right primary raised" *appIfAuth="'Secretariat'" [routerLink]="['/display', tournament.id]">
    <app-fa name="tv" fw="true"></app-fa>
    <span translate>Display </span>
  </button>
  <button type="button" class="pull-right" *appIfAuth="'Organizer'" [routerLink]="['/configure/tournament', tournament.id]">
    <app-fa name="cog" fw="true"></app-fa>
    <span translate>Settings </span>
  </button>
</header>

<section *ngIf="tournament"><pre>{{ tournament.description}}</pre></section>

<section *ngFor="let division of divisions" class="division">
  <h3>{{division}}</h3>
  <div class="row">
    <div *ngFor="let discipline of disciplines" class="col-4">
      <table>
        <thead>
          <tr>
            <td><h4>{{discipline}}</h4></td>
            <td class="print-only" *ngFor="let score of scoreHeadByGroup(discipline)">
              {{score.type}}
            </td>
            <td class="print-only" translate>Total:</td>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let participant of getByDiscipline(discipline, getByDivision(division))" [ngClass]="{isPublished: isPublished(participant)}">
            <td>{{participant.team.name}}</td>
            <td class="print-only" *ngFor="let score of scoresByGroup(participant)">
              {{ score.value | number:'1.2-2'}}
            </td>
            <td>{{score(participant) | number:'1.3-3'}}
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</section>

<section class="division" *ngIf="teamGymDivisions.length">
  <h3 translate>TeamGym</h3>
  <div class="row">
    <div *ngFor="let division of teamGymDivisions" class="col-4">
      <table>
        <thead>
          <tr>
            <td><h4>{{division}}</h4></td>
            <td class="print-only" *ngFor="let score of scoreHeadByGroup(disciplines[0])">
              {{score.type}}
            </td>
            <td class="print-only" translate>Total:</td>
          </tr>
        </thead>
        <tr *ngFor="let participant of getByTeamGym(division)" [ngClass]="{isPublished: isPublished(participant)}">
          <td>{{participant.team.name}}</td>
            <td class="print-only" *ngFor="let score of teamGymScoresByGroup(participant)">
              {{ score.value | number:'1.2-2'}}
            </td>
          <td>{{score(participant) | number:'1.3-3'}}
        </tr>
      </table>
    </div>
  </div>
</section>
