<mat-progress-spinner *ngIf="isLoading" mode="indeterminate" class="center"></mat-progress-spinner>

<!-- National classes -->
<mat-card *ngFor="let division of divisions" class="division" [ngClass]="{'collapsed': isCollapsed(division)}">
  <mat-card-header>
    <mat-card-title>
      <h3>{{division}}</h3>
      <button mat-icon-button (click)="toggleCollapse(division)" class="collapser screen-only">
        <i class="fa fa-fw fa-chevron-down"></i>
      </button>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content class="flex">
    <ng-container *ngFor="let discipline of disciplines">
      <div class="flex-col" *ngIf="hasParticipants(discipline.name, division)">
        <table role="list">
          <thead>
            <tr><th colspan="3">
              <h4 class="nowrap">
                <i class="fa fa-fw fa-square" [attr.discipline]="discipline.sortOrder"></i>
                {{discipline.name}}
              </h4>
            </th></tr>
          </thead>
          <tbody>
            <tr *ngFor="let participant of getByDiscipline(discipline.name, getByDivision(division))" [ngClass]="{isPublished: isPublished(participant)}">
              <td>{{participant.team.name}}</td>
              <td class="score">{{score(participant) | number:'1.3-3'}}</td>
              <td class="spacer"> </td>
            </tr>
          </tbody>
        </table>
      </div>
    </ng-container>
  </mat-card-content>
</mat-card>

<!-- TeamGym -->
<mat-card class="division" *ngIf="teamGymDivisions.size > 0" [ngClass]="{'collapsed': isCollapsed('teamgym')}">
  <mat-card-header>
    <mat-card-title>
      <h3 translate>TeamGym</h3>
      <button mat-icon-button (click)="toggleCollapse('teamgym')" class="collapser">
        <i class="fa fa-fw fa-chevron-down"></i>
      </button>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content class="flex">
    <div *ngFor="let division of teamGymDivisions" class="flex-col">
      <table role="list">
        <thead>
          <tr><th [attr.colspan]="getMaxColspan()"><h4>{{division}}</h4></th></tr>
          <tr>
            <td></td>
            <td *ngFor="let discipline of disciplines">
              <small>
                <i class="fa fa-fw fa-square" [attr.discipline]="discipline.sortOrder"></i>
                <span>{{discipline.name}}</span>
              </small>
            </td>
            <td translate class="score">Total</td>
            <td class="spacer"> </td>
          </tr>
        </thead>
        <tbody class="team">
          <!-- Data for screen -->
          <tr *ngFor="let participant of getByTeamGym(division)" class="team-total" [ngClass]="{isPublished: isPublished(participant)}">
            <td>{{participant.team.name}}</td>
            <td *ngFor="let exec of teamGymScoresByGroup(participant)" class="score">
              <small>{{exec.total | number:'1.3-3'}}</small>
            </td>
            <td class="score">{{score(participant) | number:'1.3-3'}}
            <td class="spacer"> </td>
          </tr>
        </tbody>
      </table>
    </div>
  </mat-card-content>
</mat-card>
